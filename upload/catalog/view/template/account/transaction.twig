{{ header }}
<div id="account-transaction" class="container">
  <ul class="breadcrumb">
    {% for breadcrumb in breadcrumbs %}
      <li class="breadcrumb-item"><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
    {% endfor %}
  </ul>
  <div class="row">{{ column_left }}
    <div id="content" class="col">{{ content_top }}
      <h1>{{ heading_title }}</h1>

      <!-- Total Balance Card -->
      <div class="card bg-gradient-success text-white shadow-lg mb-4">
        <div class="card-body">
          <div class="row align-items-center">
            <div class="col-auto">
              <div class="bg-white bg-opacity-25 rounded p-3">
                <i class="fa-solid fa-wallet fa-3x"></i>
              </div>
            </div>
            <div class="col">
              <h6 class="text-white-50 mb-1">{{ text_total }}</h6>
              <h2 class="mb-0 fw-bold"><x-currency code="{{ currency }}" amount="{{ total }}"></x-currency></h2>
            </div>
            <div class="col-auto">
              <i class="fa-solid fa-coins fa-4x opacity-25"></i>
            </div>
          </div>
        </div>
      </div>

      {% if transactions %}
        <!-- Transaction History -->
        <div class="card shadow-sm mb-4">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                  <tr>
                    <th width="15%">{{ column_date_added }}</th>
                    <th>{{ column_description }}</th>
                    <th class="text-end" width="20%">{{ column_amount }}</th>
                  </tr>
                </thead>
                <tbody>
                  {% for transaction in transactions %}
                    <tr>
                      <td class="text-muted small">
                        <i class="fa-regular fa-calendar me-1"></i>
                        {{ transaction.date_added }}
                      </td>
                      <td>
                        <i class="fa-solid fa-file-invoice-dollar me-2 text-primary"></i>
                        {{ transaction.description }}
                      </td>
                      <td class="text-end">
                        {% if transaction.amount >= 0 %}
                          <span class="badge bg-success bg-gradient fs-6">
                            <i class="fa-solid fa-plus me-1"></i>
                            <x-currency code="{{ currency }}" amount="{{ transaction.amount }}"></x-currency>
                          </span>
                        {% else %}
                          <span class="badge bg-danger bg-gradient fs-6">
                            <i class="fa-solid fa-minus me-1"></i>
                            <x-currency code="{{ currency }}" amount="{{ transaction.amount|abs }}"></x-currency>
                          </span>
                        {% endif %}
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Pagination -->
        <div class="card border-0 bg-light">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-sm-6 text-start">{{ pagination }}</div>
              <div class="col-sm-6 text-end text-muted">{{ results }}</div>
            </div>
          </div>
        </div>
      {% else %}
        <!-- Empty State -->
        <div class="card border-0 bg-light">
          <div class="card-body text-center py-5">
            <i class="fa-solid fa-receipt fa-4x text-muted mb-3"></i>
            <h4 class="text-muted">{{ text_no_results }}</h4>
            <p class="text-muted mb-4">No transactions found in your account history</p>
            <a href="{{ continue }}" class="btn btn-primary">
              <i class="fa-solid fa-shopping-bag me-2"></i>Start Shopping
            </a>
          </div>
        </div>
      {% endif %}
      <div class="text-end"><a href="{{ continue }}" class="btn btn-primary">{{ button_continue }}</a></div>
      {{ content_bottom }}</div>
    {{ column_right }}</div>
</div>
{{ footer }}
