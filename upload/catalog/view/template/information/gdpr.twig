{{ header }}
<div id="account-gdpr" class="container">
  <ul class="breadcrumb">
    {% for breadcrumb in breadcrumbs %}
      <li class="breadcrumb-item"><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
    {% endfor %}
  </ul>
  {% if success %}
    <div class="alert alert-success alert-dismissible shadow-sm">
      <i class="fa-solid fa-circle-check me-2"></i>{{ success }}
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
  {% endif %}
  <div class="row">{{ column_left }}
    <div id="content" class="col">{{ content_top }}
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4 p-md-5">
          <h1 class="display-6 fw-bold mb-4">{{ heading_title }}</h1>
          <div class="alert alert-info border-0 mb-4">
            <i class="fa-solid fa-shield-halved me-2"></i>
            <span>{{ text_gdpr|format(store, gdpr, title) }}</span>
          </div>

          <form action="{{ action }}" method="post" data-oc-toggle="ajax">
            <fieldset class="mb-4">
              <legend class="h5 fw-semibold mb-3">
                <i class="fa-solid fa-user-check me-2 text-primary"></i>{{ text_verification }}
              </legend>
              <div class="mb-3">
                <label for="input-email" class="form-label fw-semibold">{{ text_email }}</label>
                <div class="input-group input-group-lg">
                  <span class="input-group-text bg-light"><i class="fa-solid fa-envelope"></i></span>
                  <input type="email" name="email" value="{{ email }}" placeholder="{{ entry_email }}" id="input-email" class="form-control"/>
                </div>
                <div id="error-email" class="invalid-feedback"></div>
              </div>
            </fieldset>

            <fieldset class="mb-4">
              <legend class="h5 fw-semibold mb-3">
                <i class="fa-solid fa-tasks me-2 text-primary"></i>{{ text_action }}
              </legend>

              <div class="mb-3">
                <div class="card border mb-3">
                  <div class="card-body">
                    <div class="form-check">
                      <input type="radio" name="action" value="export" id="input-export" checked class="form-check-input"/>
                      <label for="input-export" class="form-check-label">
                        <strong class="d-block mb-1">
                          <i class="fa-solid fa-download me-2 text-success"></i>{{ text_export }}
                        </strong>
                        <small class="text-muted">Export your personal data in a downloadable format</small>
                      </label>
                    </div>
                  </div>
                </div>

                <div class="card border mb-3">
                  <div class="card-body">
                    <div class="form-check">
                      <input type="radio" name="action" value="remove" id="input-remove" class="form-check-input"/>
                      <label for="input-remove" class="form-check-label">
                        <strong class="d-block mb-1">
                          <i class="fa-solid fa-trash-alt me-2 text-danger"></i>{{ text_remove }}
                        </strong>
                        <small class="text-muted">Permanently delete your account and all associated data</small>
                      </label>
                    </div>
                  </div>
                </div>
              </div>

              <div id="collapse-remove" class="alert alert-warning border-0 shadow-sm collapse">
                <h6 class="alert-heading">
                  <i class="fa-solid fa-triangle-exclamation me-2"></i>{{ text_warning }}
                </h6>
                <ul class="mb-0">
                  <li>{{ text_access|format(store) }}</li>
                  <li>{{ text_history }}</li>
                  <li>{{ text_limit|format(limit) }}</li>
                </ul>
              </div>
            </fieldset>

            <div class="d-flex flex-column flex-sm-row gap-3 justify-content-between">
              <a href="{{ cancel }}" class="btn btn-outline-secondary btn-lg">
                <i class="fa-solid fa-arrow-left me-2"></i>{{ button_cancel }}
              </a>
              <button type="submit" class="btn btn-dark btn-lg">
                {{ button_continue }}<i class="fa-solid fa-arrow-right ms-2"></i>
              </button>
            </div>
          </form>
        </div>
      </div>
      {{ content_bottom }}</div>
    {{ column_right }}</div>
</div>
<script type="text/javascript"><!--
$('input[name=\'action\']').on('change', function() {
    if (this.value == 'remove') {
        $('#collapse-remove').slideDown();
    } else {
        $('#collapse-remove').slideUp();
    }
});
//--></script>
{{ footer }}
